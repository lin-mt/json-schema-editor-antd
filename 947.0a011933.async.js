"use strict";(self.webpackChunk_quiet_front_end_json_schema_editor_antd=self.webpackChunk_quiet_front_end_json_schema_editor_antd||[]).push([[947],{94947:function(ha,Fe,g){g.r(Fe),g.d(Fe,{JsonSchemaEditor:function(){return ea}});var He=g(42122),A=g.n(He),Ue=g(27424),T=g.n(Ue),Y=g(27790),Ve=g(68949),We=g(46670),S=g(67294),Qe=g(38416),I=g.n(Qe),Ye=g(861),H=g.n(Ye),re=g(6335),ge=g(61996),pe=g(91286),G=g(41133),xe=g(15026),me=g(24193),je=g(71577),ye=g(40543),Ce=g(80688),K=g(15335),M=g(38980),N=g(6277),o=g(6226),ie=g(79840),U=g(64074),le=g(29323),X=".",Ge=[{name:"date-time"},{name:"date"},{name:"email"},{name:"hostname"},{name:"ipv4"},{name:"ipv6"},{name:"uri"}],Xe=[{name:"\u5B57\u7B26\u4E32",mock:"@string"},{name:"\u81EA\u7136\u6570",mock:"@natural"},{name:"\u6D6E\u70B9\u6570",mock:"@float"},{name:"\u5B57\u7B26",mock:"@character"},{name:"\u5E03\u5C14",mock:"@boolean"},{name:"url",mock:"@url"},{name:"\u57DF\u540D",mock:"@domain"},{name:"ip\u5730\u5740",mock:"@ip"},{name:"id",mock:"@id"},{name:"guid",mock:"@guid"},{name:"\u5F53\u524D\u65F6\u95F4",mock:"@now"},{name:"\u65F6\u95F4\u6233",mock:"@timestamp"},{name:"\u65E5\u671F",mock:"@date"},{name:"\u65F6\u95F4",mock:"@time"},{name:"\u65E5\u671F\u65F6\u95F4",mock:"@datetime"},{name:"\u56FE\u7247\u8FDE\u63A5",mock:"@image"},{name:"\u56FE\u7247data",mock:"@imageData"},{name:"\u989C\u8272",mock:"@color"},{name:"\u989C\u8272hex",mock:"@hex"},{name:"\u989C\u8272rgba",mock:"@rgba"},{name:"\u989C\u8272rgb",mock:"@rgb"},{name:"\u989C\u8272hsl",mock:"@hsl"},{name:"\u6574\u6570",mock:"@integer"},{name:"email",mock:"@email"},{name:"\u5927\u6BB5\u6587\u672C",mock:"@paragraph"},{name:"\u53E5\u5B50",mock:"@sentence"},{name:"\u5355\u8BCD",mock:"@word"},{name:"\u5927\u6BB5\u4E2D\u6587\u6587\u672C",mock:"@cparagraph"},{name:"\u4E2D\u6587\u6807\u9898",mock:"@ctitle"},{name:"\u6807\u9898",mock:"@title"},{name:"\u59D3\u540D",mock:"@name"},{name:"\u4E2D\u6587\u59D3\u540D",mock:"@cname"},{name:"\u4E2D\u6587\u59D3",mock:"@cfirst"},{name:"\u4E2D\u6587\u540D",mock:"@clast"},{name:"\u82F1\u6587\u59D3",mock:"@first"},{name:"\u82F1\u6587\u540D",mock:"@last"},{name:"\u4E2D\u6587\u53E5\u5B50",mock:"@csentence"},{name:"\u4E2D\u6587\u8BCD\u7EC4",mock:"@cword"},{name:"\u5730\u5740",mock:"@region"},{name:"\u7701\u4EFD",mock:"@province"},{name:"\u57CE\u5E02",mock:"@city"},{name:"\u5730\u533A",mock:"@county"},{name:"\u8F6C\u6362\u4E3A\u5927\u5199",mock:"@upper"},{name:"\u8F6C\u6362\u4E3A\u5C0F\u5199",mock:"@lower"},{name:"\u6311\u9009\uFF08\u679A\u4E3E\uFF09",mock:"@pick"},{name:"\u6253\u4E71\u6570\u7EC4",mock:"@shuffle"},{name:"\u534F\u8BAE",mock:"@protocol"}],ke=["string","number","array","object","boolean","integer"],$e=g(18698),se=g.n($e),_e=g(96486),x=g.n(_e);function fe(r){switch(r){case"string":return{type:"string"};case"number":return{type:"number"};case"array":return{type:"array",items:{type:"string"}};case"object":return{type:"object",properties:{}};case"boolean":return{type:"boolean"};case"integer":return{type:"integer"};default:throw new Error("Unsupported type: ".concat(r))}}var Ee=function r(a){var n=x().cloneDeep(a);return n&&!n.type&&!n.properties&&(n.type="string"),!n.type&&n.properties&&se()(n.properties)==="object"&&(n.type="object"),n.type==="object"?(n.properties||(n.properties={}),Object.keys(n.properties).forEach(function(t){!n.properties[t].type&&n.properties[t].properties&&se()(n.properties[t].properties)==="object"&&(n.properties[t].type="object"),(n.properties[t].type==="array"||n.properties[t].type==="object")&&(n.properties[t]=r(n.properties[t]))})):n.type==="array"&&(n.items||(n.items={type:"string"}),n.items=r(n.items)),n},oe=function(a){return a?a.length===1?[]:x().dropRight(a,1):[]},De=function(a,n,t){var i=oe(n),l=i.length?x().get(a,i):a,s=[].concat(l.required||[]);return s.push(t),i.push("required"),x().set(a,i,x().uniq(s))},ma=function(a,n,t){var i=oe(n),l=i.length?_.get(a,i):a,s=[].concat(l.required||[]),c=s.filter(function(f){return f!==t});return i.push("required"),_.set(a,i,_.uniq(c))},Ie=function r(a,n){var t=x().cloneDeep(a);if(t.type==="object"){var i=nn(t.properties);n?t.required=i:delete t.required,t.properties&&(t.properties=en(t.properties,n))}else t.type==="array"&&t.items&&(t.items=r(t.items,n));return t};function en(r,a){var n=x().cloneDeep(r);for(var t in n)(n[t].type==="array"||n[t].type==="object")&&(n[t]=Ie(n[t],a));return n}function nn(r){var a=[];return Object.keys(r).forEach(function(n){a.push(n)}),a}var an=g(49288),e=g(85893),tn=function(a){var n,t=a.schema,i=(0,S.useState)(!1),l=T()(i,2),s=l[0],c=l[1],f=Xe.map(function(u){return{label:u.name,value:u.mock}});return(0,e.jsx)("div",{style:{width:"100%"},children:(0,e.jsx)(an.Z,{style:{width:"100%"},className:"certain-category-search",dropdownMatchSelectWidth:!1,options:f,filterOption:!0,value:t!=null&&t.mock?typeof t.mock!="string"?(n=t.mock)===null||n===void 0?void 0:n.mock:t.mock:"",open:s,onChange:a.onChange,disabled:(t==null?void 0:t.type)==="object"||(t==null?void 0:t.type)==="array",children:(0,e.jsx)(M.Z,{style:{width:"100%"},placeholder:"mock",className:(t==null?void 0:t.type)==="object"||(t==null?void 0:t.type)==="array"?"input-icon-editor-disabled":"input-icon-editor",onFocus:function(){return c(!0)},onBlur:function(){return c(!1)},addonAfter:(0,e.jsx)(G.Z,{className:(t==null?void 0:t.type)==="object"||(t==null?void 0:t.type)==="array"?"input-icon-editor-disabled":"input-icon-editor",onClick:function(m){m.stopPropagation(),a.showEdit()}})})})})},Ze=tn,rn=g(19604),ln={base:"vs",inherit:!0,rules:[{background:"FFFFFF",token:""},{foreground:"008e00",token:"comment"},{foreground:"7d4726",token:"meta.preprocessor"},{foreground:"7d4726",token:"keyword.control.import"},{foreground:"df0002",token:"string"},{foreground:"3a00dc",token:"constant.numeric"},{foreground:"c800a4",token:"constant.language"},{foreground:"275a5e",token:"constant.character"},{foreground:"275a5e",token:"constant.other"},{foreground:"c800a4",token:"variable.language"},{foreground:"c800a4",token:"variable.other"},{foreground:"c800a4",token:"keyword"},{foreground:"c900a4",token:"storage"},{foreground:"438288",token:"entity.name.class"},{foreground:"790ead",token:"entity.name.tag"},{foreground:"450084",token:"entity.other.attribute-name"},{foreground:"450084",token:"support.function"},{foreground:"450084",token:"support.constant"},{foreground:"790ead",token:"support.type"},{foreground:"790ead",token:"support.class"},{foreground:"790ead",token:"support.other.variable"}],colors:{"editor.foreground":"#000000","editor.background":"#FFFFFF","editor.selectionBackground":"#B5D5FF","editor.lineHighlightBackground":"#00000012","editorCursor.foreground":"#000000","editorWhitespace.foreground":"#BFBFBF"}},sn=function(a){var n=a.width,t=a.lineNumbers,i=t===void 0?"on":t,l=a.height,s=a.value,c=a.folding,f=c===void 0?!0:c,u=a.language,m=a.readOnly,h=m===void 0?!1:m,O=a.renderLineHighlight,P=O===void 0?"all":O,b=a.onChange;function v(j){j.editor.defineTheme("x-code-default",ln)}return(0,e.jsx)(rn.ZP,{height:l,width:n,value:s,language:u,onChange:b,beforeMount:v,theme:"x-code-default",options:{readOnly:h,lineNumbers:i,renderLineHighlight:P,folding:f,smoothScrolling:!0,fontSize:13,scrollBeyondLastLine:!1,lineDecorationsWidth:19,scrollbar:{verticalScrollbarSize:5,horizontalScrollbarSize:5},minimap:{enabled:!1}}})},ve=sn,on=(0,le.Pi)(function(r){var a=r.data,n=r.prefix,t=r.showAdv,i=r.showEdit,l=(0,S.useState)({}),s=T()(l,2),c=s[0],f=s[1],u=(0,S.useContext)(Q),m=(0,S.useContext)(ee);(0,S.useEffect)(function(){var E=r.prefix.filter(function(y){return y!=="properties"}).length;f({paddingLeft:"".concat(20*(E+1),"px")})},[r.prefix]);var h=function(){return H()(n).concat("items")},O=function(y){var q=h().concat("type");m.changeType({keys:q,value:y})},P=function(y){var q=h().concat("description");m.changeValue({keys:q,value:y})},b=function(y){var q=h().concat("mock"),W=y?{mock:y}:"";m.changeValue({keys:q,value:W})},v=function(y){var q=h().concat("title");m.changeValue({keys:q,value:y})},j=function(){var y=h().concat("properties");m.addChildField({keys:y}),m.setOpenValue({key:y,value:!0})},Z=function(){var y=h().concat("properties");m.setOpenValue({key:y})},R=function(y,q){i(h(),y,a.items[y],q)},z=function(){t(h(),a.items)},p=a.items,D=H()(n).concat("items"),L=H()(D).concat("properties").join(X);return a.items!==void 0?(0,e.jsxs)("div",{children:[(0,e.jsxs)(N.Z,{gutter:11,justify:"space-around",align:"middle",children:[(0,e.jsx)(o.Z,{flex:"auto",children:(0,e.jsxs)(N.Z,{gutter:11,justify:"space-around",align:"middle",children:[(0,e.jsx)(o.Z,{span:8,style:c,children:(0,e.jsxs)(N.Z,{justify:"space-around",align:"middle",className:"field-name",children:[(0,e.jsx)(o.Z,{flex:"20px",children:(p==null?void 0:p.type)==="object"?(0,e.jsx)("span",{className:"show-hide-children",onClick:Z,children:x().get(m.open,[L])?(0,e.jsx)(ge.Z,{}):(0,e.jsx)(pe.Z,{})}):null}),(0,e.jsx)(o.Z,{flex:"auto",children:(0,e.jsx)(M.Z,{addonAfter:(0,e.jsx)(ie.Z,{style:{paddingLeft:0},disabled:!0}),disabled:!0,value:"Items"})})]})}),(0,e.jsx)(o.Z,{span:u.mock?3:4,children:(0,e.jsx)(U.Z,{style:{width:"100%"},onChange:O,value:p==null?void 0:p.type,children:ke.map(function(E,y){return(0,e.jsx)(U.Z.Option,{value:E,children:E},y)})})}),u.mock&&(0,e.jsx)(o.Z,{span:3,children:(0,e.jsx)(Ze,{schema:p,showEdit:function(){return R("mock",p==null?void 0:p.type)},onChange:b})}),(0,e.jsx)(o.Z,{span:u.mock?5:6,children:(0,e.jsx)(M.Z,{addonAfter:(0,e.jsx)(G.Z,{className:"input-icon-editor",onClick:function(){return R("title")}}),placeholder:"title",value:p==null?void 0:p.title,onChange:function(y){return v(y.target.value)}})}),(0,e.jsx)(o.Z,{span:u.mock?5:6,children:(0,e.jsx)(M.Z,{addonAfter:(0,e.jsx)(G.Z,{className:"input-icon-editor",onClick:function(){return R("description")}}),placeholder:"description",value:p==null?void 0:p.description,onChange:function(y){return P(y.target.value)}})})]})}),(0,e.jsx)(o.Z,{flex:"66px",children:(0,e.jsxs)(N.Z,{gutter:8,children:[(0,e.jsx)(o.Z,{span:8,children:(0,e.jsx)("span",{className:"adv-set",onClick:z,children:(0,e.jsx)(K.Z,{placement:"top",title:"adv_setting",children:(0,e.jsx)(xe.Z,{})})})}),(0,e.jsx)(o.Z,{span:8,children:(p==null?void 0:p.type)==="object"?(0,e.jsx)("span",{className:"plus",onClick:j,children:(0,e.jsx)(K.Z,{placement:"top",title:"add_child_node",children:(0,e.jsx)(me.Z,{})})}):null})]})})]}),(0,e.jsx)("div",{style:{paddingTop:8},children:Se(D,p,i,t)})]}):(0,e.jsx)(e.Fragment,{})}),cn=on,un=g(12057),dn=function(a){var n=(0,S.useState)(a.value),t=T()(n,2),i=t[0],l=t[1],s=(0,S.useState)(""),c=T()(s,2),f=c[0],u=c[1],m=(0,S.useState)(),h=T()(m,2),O=h[0],P=h[1],b=(0,S.useRef)(null);(0,S.useEffect)(function(){l(a.value)},[a.value]);var v=function(Z){if(Z.length===0){Y.ZP.warning("FieldName can not empty.").then(),u("error"),l(function(R){return P(R),Z});return}if(P(""),u(""),O===Z){l(Z);return}a.onChange(Z)&&Z&&l(Z)};return(0,S.useEffect)(function(){var j=b.current;if(j!==null){var Z;(Z=j.input)===null||Z===void 0||Z.addEventListener("blur",x().debounce(function(){var R;((R=j.input)===null||R===void 0?void 0:R.value.length)===0&&(Y.ZP.warning("FieldName can not empty.").then(),j.input.focus())},50))}},[]),(0,e.jsx)(M.Z,{ref:b,status:f,addonAfter:a.addonAfter,value:i,placeholder:O,onChange:function(Z){return v(Z.target.value)}})},hn=dn,mn=g(19049),fn=(0,le.Pi)(function(r){var a=r.prefix,n=r.name,t=(0,S.useContext)(ee);return(0,e.jsx)(K.Z,{placement:"top",title:"add_node",children:(0,e.jsx)(mn.Z,{menu:{items:[{label:(0,e.jsx)("span",{onClick:function(){t.addField({keys:a,name:n})},children:"sibling_node"}),key:"sibling_node"},{label:(0,e.jsx)("span",{onClick:function(){t.setOpenValue({key:a.concat(n,"properties"),value:!0}),t.addChildField({keys:a.concat(n,"properties")})},children:"child_node"}),key:"child_node"}]},children:(0,e.jsx)(me.Z,{style:{color:"#2395f1"}})})})}),vn=fn,gn=U.Z.Option,pn=(0,le.Pi)(function(r){var a=r.data,n=r.name,t=r.prefix,i=r.showAdv,l=r.showEdit,s=(0,S.useState)({}),c=T()(s,2),f=c[0],u=c[1],m=(0,S.useContext)(Q),h=(0,S.useContext)(ee);(0,S.useEffect)(function(){var F=r.prefix.filter(function(C){return C!=="properties"}).length;u({paddingLeft:"".concat(20*(F+1),"px")})},[r.prefix]);var O=function(){return H()(t).concat(n)},P=function(C){return!a.properties||a.properties[C]&&se()(a.properties[C])==="object"?(Y.ZP.error('The field "'.concat(C,'" already exists.')).then(),!1):(h.changeName({keys:t,name:n,value:C}),!0)},b=function(C){var J=O().concat("description");h.changeValue({keys:J,value:C})},v=function(C){var J=O().concat("mock"),ne=C?{mock:C}:"";h.changeValue({keys:J,value:ne})},j=function(C){var J=O().concat("title");h.changeValue({keys:J,value:C})},Z=function(C){var J=O().concat("type");h.changeType({keys:J,value:C})},R=function(){h.deleteField({keys:O()}),h.enableRequire({keys:t,name:n,required:!1})},z=function(C,J){l(O(),C,a.properties[n][C],J)},p=function(){i(O(),a.properties[n])},D=function(C){C!=="object"&&h.addField({keys:t,name:n})},L=function(){var C=H()(O()).concat("properties");h.setOpenValue({key:C})},E=function(C){h.enableRequire({keys:t,name:n,required:C})},y=a.properties[n],q=H()(t).concat(n),W=H()(q).concat("properties").join(X);return x().get(h.open,t.join(X))?(0,e.jsxs)("div",{children:[(0,e.jsxs)(N.Z,{justify:"space-around",gutter:11,align:"middle",children:[(0,e.jsx)(o.Z,{flex:"auto",children:(0,e.jsxs)(N.Z,{justify:"space-around",gutter:11,align:"middle",children:[(0,e.jsx)(o.Z,{span:8,style:f,children:(0,e.jsxs)(N.Z,{justify:"space-around",align:"middle",className:"field-name",children:[(0,e.jsx)(o.Z,{flex:"20px",children:y.type==="object"?(0,e.jsx)("span",{className:"show-hide-children",onClick:L,children:x().get(h.open,[W])?(0,e.jsx)(ge.Z,{}):(0,e.jsx)(pe.Z,{})}):null}),(0,e.jsx)(o.Z,{flex:"auto",children:(0,e.jsx)(hn,{addonAfter:(0,e.jsx)(K.Z,{placement:"top",title:"required",children:(0,e.jsx)(ie.Z,{style:{paddingLeft:0},onChange:function(C){return E(C.target.checked)},checked:a.required===void 0?!1:a.required.indexOf(n)!==-1})}),onChange:P,value:n})})]})}),(0,e.jsx)(o.Z,{span:m.mock?3:4,children:(0,e.jsx)(U.Z,{style:{width:"100%"},onChange:Z,value:y.type,children:ke.map(function(F,C){return(0,e.jsx)(gn,{value:F,children:F},C)})})}),m.mock&&(0,e.jsx)(o.Z,{span:3,children:(0,e.jsx)(Ze,{schema:y,showEdit:function(){return z("mock",y.type)},onChange:v})}),(0,e.jsx)(o.Z,{span:m.mock?5:6,children:(0,e.jsx)(M.Z,{addonAfter:(0,e.jsx)(G.Z,{className:"input-icon-editor",onClick:function(){return z("title")}}),placeholder:"title",value:y.title,onChange:function(C){return j(C.target.value)}})}),(0,e.jsx)(o.Z,{span:m.mock?5:6,children:(0,e.jsx)(M.Z,{addonAfter:(0,e.jsx)(G.Z,{className:"input-icon-editor",onClick:function(){return z("description")}}),placeholder:"description",value:y.description,onChange:function(C){return b(C.target.value)}})})]})}),(0,e.jsx)(o.Z,{flex:"66px",children:(0,e.jsxs)(N.Z,{gutter:8,children:[(0,e.jsx)(o.Z,{span:8,children:(0,e.jsx)("span",{className:"adv-set",onClick:p,children:(0,e.jsx)(K.Z,{placement:"top",title:"adv_setting",children:(0,e.jsx)(xe.Z,{})})})}),(0,e.jsx)(o.Z,{span:8,children:(0,e.jsx)("span",{className:"close",onClick:R,children:(0,e.jsx)(un.Z,{})})}),(0,e.jsx)(o.Z,{span:8,children:(0,e.jsx)("span",{className:"plus",onClick:function(){return D(y.type)},children:y.type==="object"?(0,e.jsx)(vn,{prefix:t,name:n}):(0,e.jsx)(K.Z,{placement:"top",title:"add_sibling_node",children:(0,e.jsx)(me.Z,{})})})})]})})]}),(0,e.jsx)("div",{style:{paddingTop:8},children:Se(q,y,l,i)})]}):null}),xn=pn,jn=function(a){var n=a.data,t=a.prefix,i=a.showEdit,l=a.showAdv;return(0,e.jsx)("div",{children:n.properties&&Object.keys(n.properties).map(function(s,c){return(0,e.jsx)(xn,{data:n,name:s,prefix:t,showEdit:i,showAdv:l},c)})})},yn=jn,Se=function(a,n,t,i){var l=H()(a).concat("properties");switch(n==null?void 0:n.type){case"array":return(0,e.jsx)(cn,{prefix:a,data:n,showEdit:t,showAdv:i});case"object":return(0,e.jsx)(yn,{prefix:l,data:n,showEdit:t,showAdv:i});default:return null}},Cn=(0,le.Pi)(function(r){var a=r.showAdv,n=r.showEdit,t=(0,S.useContext)(ee);return(0,e.jsx)("div",{style:{paddingTop:8},children:Se([],t.schema,n,a)})}),kn=Cn,be=g(72269),$=g(63577),Ne=function(a,n,t,i){t[n]=a,i(t)},Zn=function(a){var n=a.data,t=(0,S.useContext)(Q);function i(c){Ne(c,"uniqueItems",n,t.changeCustomValue)}function l(c){Ne(c,"maxItems",n,t.changeCustomValue)}function s(c){Ne(c,"minItems",n,t.changeCustomValue)}return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"default-setting",children:"base_setting"}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:6,className:"other-label",children:(0,e.jsxs)("span",{children:["uniqueItems\xA0",(0,e.jsx)(K.Z,{title:"unique_items",children:(0,e.jsx)(re.Z,{})}),"\xA0\uFF1A"]})}),(0,e.jsx)(o.Z,{span:18,children:(0,e.jsx)(be.Z,{checked:n.uniqueItems,onChange:i})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:6,className:"other-label",children:"min_items \uFF1A"}),(0,e.jsx)(o.Z,{span:18,children:(0,e.jsx)($.Z,{value:n.minItems,style:{width:"200px"},placeholder:"minItems",onChange:s})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:6,className:"other-label",children:"max_items \uFF1A"}),(0,e.jsx)(o.Z,{span:18,children:(0,e.jsx)($.Z,{value:n.maxItems,style:{width:"200px"},placeholder:"maxItems",onChange:l})})]})]})},Sn=Zn,Pe=U.Z.Option,bn=function(a,n,t,i){var l=a==="true",s=x().cloneDeep(t);typeof a=="undefined"?delete s[n]:s[n]=l,i(s)},Nn=function(a){var n=a.data,t=(0,S.useContext)(Q),i=n.default===void 0?"":n.default?"true":"false";return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"default-setting",children:"base_setting"}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:"default\uFF1A"}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsxs)(U.Z,{value:i,allowClear:!0,placeholder:"default",style:{width:200},onChange:function(s){bn(s,"default",n,t.changeCustomValue)},children:[(0,e.jsx)(Pe,{value:"true",children:"true"}),(0,e.jsx)(Pe,{value:"false",children:"false"})]})})]})]})},An=Nn,Te=M.Z.TextArea,ce=function(a,n,t,i){t[n]=a,i(t)},On=function(a){var n=a.data,t=(0,S.useState)(a.data.enum!==void 0),i=T()(t,2),l=i[0],s=i[1],c=(0,S.useState)(a.data.enum===void 0?"":a.data.enum.join(`
`)),f=T()(c,2),u=f[0],m=f[1];(0,S.useEffect)(function(){m(a.data.enum===void 0?"":a.data.enum.join(`
`))},[a.data.enum]),(0,S.useEffect)(function(){s(a.data.enum!==void 0)},[a.data.enum]);var h=(0,S.useContext)(Q),O=function(D,L){s(D),D||(delete L.enum,delete L.enumDesc,m(""),h.changeCustomValue(L))},P=function(D,L){var E=D,y=E.split(`
`);L&&L.type==="number"&&u.split(`
`).length===y.length&&y[y.length-1]===""&&(E=E.slice(0,E.length-1)),m(E);var q=E.split(`
`),W=x().cloneDeep(L),F=[];q.forEach(function(C){if(!Number.isNaN(Number(C)))F.push(Number(C));else for(var J=1;J<C.length+1;J+=1)if(Number.isNaN(Number(C.slice(0,J)))&&J>1){F.push(Number(C.slice(0,J-1)));break}}),F.length>0&&E!==""?W.enum=F:(delete W.enum,delete W.enumDesc,m("")),h.changeCustomValue(W)},b=function(D,L){L.enumDesc=D,h.changeCustomValue(L)};function v(p){ce(p,"default",n,h.changeCustomValue)}function j(p){ce(p,"exclusiveMinimum",n,h.changeCustomValue)}function Z(p){ce(p,"minimum",n,h.changeCustomValue)}function R(p){ce(p,"exclusiveMaximum",n,h.changeCustomValue)}function z(p){ce(p,"maximum",n,h.changeCustomValue)}return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"default-setting",children:"base_setting"}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:"default\uFF1A"}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsx)(M.Z,{value:n.default?n.default.toString():void 0,placeholder:"default",onChange:function(D){return v(D.target.value)}})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:12,children:(0,e.jsxs)(N.Z,{align:"middle",children:[(0,e.jsx)(o.Z,{span:13,className:"other-label",children:(0,e.jsxs)("span",{children:["exclusiveMinimum\xA0",(0,e.jsx)(K.Z,{title:"exclusiveMinimum",children:(0,e.jsx)(re.Z,{})}),"\xA0\uFF1A"]})}),(0,e.jsx)(o.Z,{span:11,children:(0,e.jsx)(be.Z,{checked:n.exclusiveMinimum,onChange:j})})]})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsxs)(N.Z,{align:"middle",children:[(0,e.jsx)(o.Z,{span:13,className:"other-label",children:(0,e.jsxs)("span",{children:["exclusiveMaximum\xA0",(0,e.jsx)(K.Z,{title:"exclusiveMaximum",children:(0,e.jsx)(re.Z,{})}),"\xA0\uFF1A"]})}),(0,e.jsx)(o.Z,{span:11,children:(0,e.jsx)(be.Z,{checked:n.exclusiveMaximum,onChange:R})})]})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:12,children:(0,e.jsxs)(N.Z,{align:"middle",children:[(0,e.jsx)(o.Z,{span:8,className:"other-label",children:"minimum\uFF1A"}),(0,e.jsx)(o.Z,{span:16,children:(0,e.jsx)($.Z,{value:n.minimum,style:{width:"100%"},placeholder:"minimum",onChange:Z})})]})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsxs)(N.Z,{align:"middle",children:[(0,e.jsx)(o.Z,{span:8,className:"other-label",children:"maximum\uFF1A"}),(0,e.jsx)(o.Z,{span:16,children:(0,e.jsx)($.Z,{value:n.maximum,style:{width:"100%"},placeholder:"maximum",onChange:z})})]})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:(0,e.jsxs)("span",{children:["enum ",(0,e.jsx)(ie.Z,{checked:l,onChange:function(D){return O(D.target.checked,n)}})," ","\uFF1A"]})}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsx)(Te,{value:u,disabled:!l,placeholder:"enum_msg",autoSize:{minRows:2,maxRows:6},onChange:function(D){return P(D.target.value,n)}})})]}),l&&(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:(0,e.jsx)("span",{children:"enum_desc\uFF1A"})}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsx)(Te,{value:n.enumDesc,disabled:!l,placeholder:"enum_desc_msg",autoSize:{minRows:2,maxRows:6},onChange:function(D){return b(D.target.value,n)}})})]})]})},Me=On,wn=function(a){var n=a.data,t=(0,S.useState)(a.data.enum!==void 0),i=T()(t,2),l=i[0],s=i[1],c=Ge,f=(0,S.useContext)(Q);(0,S.useEffect)(function(){s(a.data.enum!==void 0)},[a.data.enum]);var u=function(v,j,Z){Z[j]=v,f.changeCustomValue(Z)},m=function(v,j){var Z=v.split(`
`);Z.length===0||Z.length===1&&!Z[0]?(delete j.enum,delete j.enumDesc,f.changeCustomValue(j)):(j.enum=Z,f.changeCustomValue(j))},h=function(v,j){j.enumDesc=v,f.changeCustomValue(j)},O=function(v,j){s(v),v||(delete j.enum,delete j.enumDesc,f.changeCustomValue(j))},P=function(v){return typeof v=="boolean"?v?"true":"false":v};return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"default-setting",children:"base_setting"}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:"default\uFF1A"}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsx)(M.Z,{value:P(n.default),placeholder:"default",onChange:function(v){return u(v.target.value,"default",n)}})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:12,children:(0,e.jsxs)(N.Z,{align:"middle",children:[(0,e.jsx)(o.Z,{span:8,className:"other-label",children:"minLength\uFF1A"}),(0,e.jsx)(o.Z,{span:16,children:(0,e.jsx)($.Z,{style:{width:"100%"},value:n.minLength,placeholder:"min.length",onChange:function(v){return u(v,"minLength",n)}})})]})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsxs)(N.Z,{align:"middle",children:[(0,e.jsx)(o.Z,{span:8,className:"other-label",children:"maxLength\uFF1A"}),(0,e.jsx)(o.Z,{span:16,children:(0,e.jsx)($.Z,{style:{width:"100%"},value:n.maxLength,placeholder:"max.length",onChange:function(v){return u(v,"maxLength",n)}})})]})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:(0,e.jsxs)("span",{children:["Pattern\xA0",(0,e.jsx)(K.Z,{title:"pattern",children:(0,e.jsx)(re.Z,{})}),"\xA0\uFF1A"]})}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsx)(M.Z,{value:n.pattern,placeholder:"Pattern",onChange:function(v){return u(v.target.value,"pattern",n)}})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:(0,e.jsxs)("span",{children:["enum ",(0,e.jsx)(ie.Z,{checked:l,onChange:function(v){return O(v.target.checked,n)}})," ","\uFF1A"]})}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsx)(M.Z.TextArea,{value:n.enum&&n.enum.length&&n.enum.join(`
`),disabled:!l,placeholder:"enum_msg",autoSize:{minRows:2,maxRows:6},onChange:function(v){return m(v.target.value,n)}})})]}),l&&(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:"enum_desc\uFF1A"}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsx)(M.Z.TextArea,{value:n.enumDesc,disabled:!l,placeholder:"enum_desc_msg",autoSize:{minRows:2,maxRows:6},onChange:function(v){return h(v.target.value,n)}})})]}),(0,e.jsxs)(N.Z,{className:"other-row",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,className:"other-label",children:"format\uFF1A"}),(0,e.jsx)(o.Z,{span:20,children:(0,e.jsx)(U.Z,{showSearch:!0,allowClear:!0,value:n.format,style:{width:200},placeholder:"Select a format",popupClassName:"json-schema-react-editor-adv-modal-select",onChange:function(v){return u(v,"format",n)},filterOption:function(v,j){return(j==null?void 0:j.props.value.toLowerCase().indexOf(v.toLowerCase()))>=0},children:c.map(function(b){return(0,e.jsx)(U.Z.Option,{value:b.name,children:b.name},b.name)})})})]})]})},Fn=wn,Vn=function(a){switch(a.type){case"string":return(0,e.jsx)(Fn,{data:a});case"number":return(0,e.jsx)(Me,{data:a});case"boolean":return(0,e.jsx)(An,{data:a});case"integer":return(0,e.jsx)(Me,{data:a});case"array":return(0,e.jsx)(Sn,{data:a});default:return(0,e.jsx)(e.Fragment,{})}},En=function(a,n){a&&n(JSON.parse(a))},Dn=function(a){var n=a.data,t=Vn(JSON.parse(n)),i=(0,S.useContext)(Q);return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:t}),(0,e.jsx)("div",{className:"default-setting",children:"all_setting"}),(0,e.jsx)(ve,{height:300,value:n,language:"json",onChange:function(s){return En(s,i.changeCustomValue)}})]})},In=Dn,Pn=g(74704),ue=g.n(Pn),k;(function(r){r.Null="null",r.Boolean="boolean",r.Integer="integer",r.Number="number",r.String="string",r.Object="object",r.Array="array"})(k||(k={}));function Ae(r,a){switch(se()(r)){case"number":return Number.isInteger(r)?{type:k.Integer}:{type:k.Number};case"boolean":return{type:k.Boolean};case"string":return{type:k.String};case"object":return r===null?{type:k.Null}:Array.isArray(r)?Tn(r,a):Mn(r,a);default:throw new Error("unknown type")}}function Tn(r,a){if(r.length===0)return{type:k.Array};var n=r.map(function(i){return Ae(i,a)}),t=de(n);return{type:k.Array,items:t}}function Mn(r,a){var n=Object.keys(r);if(n.length===0)return{type:k.Object};var t=Object.entries(r).reduce(function(l,s){var c=T()(s,2),f=c[0],u=c[1];return l[f]=Ae(u,a),l},{}),i={type:k.Object,properties:t};return a!=null&&a.noRequired||(i.required=n),i}function de(r,a){for(var n,t,i=(n={},I()(n,k.Null,[]),I()(n,k.Boolean,[]),I()(n,k.Integer,[]),I()(n,k.Number,[]),I()(n,k.String,[]),I()(n,k.Array,[]),I()(n,k.Object,[]),n),l=Re(r),s=0,c=l;s<c.length;s++){var f=c[s],u=f.type;(i[u].length===0||Kn(f))&&i[u].push(f)}var m=(t={},I()(t,k.Null,i[k.Null][0]),I()(t,k.Boolean,i[k.Boolean][0]),I()(t,k.Number,i[k.Number][0]),I()(t,k.Integer,i[k.Integer][0]),I()(t,k.String,i[k.String][0]),I()(t,k.Array,Rn(i[k.Array])),I()(t,k.Object,Jn(i[k.Object],a)),t);m[k.Number]&&delete m[k.Integer];var h=Object.values(m).filter(Boolean),O=h.length>1;return O?Bn({anyOf:h}):h[0]}function Rn(r){if(!(!r||r.length===0)){var a=[],n=ue()(r),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.items){var l=Oe(i.items);a.push.apply(a,l)}}}catch(c){n.e(c)}finally{n.f()}if(a.length===0)return{type:k.Array};var s=de(a);return{type:k.Array,items:s}}}function Jn(r,a){if(!(!r||r.length===0)){var n=r.map(function(Z){return Z.properties}).filter(Boolean),t=Object.create(null),i=ue()(n),l;try{for(i.s();!(l=i.n()).done;)for(var s=l.value,c=0,f=Object.entries(s);c<f.length;c++){var u,m=T()(f[c],2),h=m[0],O=m[1];t[h]||(t[h]=[]);var P=Oe(O);(u=t[h]).push.apply(u,P)}}catch(Z){i.e(Z)}finally{i.f()}var b=Object.entries(t).reduce(function(Z,R){var z=T()(R,2),p=z[0],D=z[1];return D.length===1?Z[p]=D[0]:Z[p]=de(D),Z},{}),v={type:k.Object};if(Object.keys(b).length>0&&(v.properties=b),!(a!=null&&a.noRequired)){var j=Ln(r.map(function(Z){return Z.required||[]}));j.length>0&&(v.required=j)}return v}}function Oe(r){return r?r.anyOf?Re(r.anyOf):Array.isArray(r.type)?r.type.map(function(a){return{type:a}}):[r]:[]}function Re(r){return!r||r.length===0?[]:r.flatMap(function(a){return Oe(a)})}function Bn(r){var a=[],n=[],t=ue()(r.anyOf),i;try{for(t.s();!(i=t.n()).done;){var l=i.value;Array.isArray(l.type)?a.push.apply(a,H()(l.type)):qn(l)?a.push(l.type):n.push(l)}}catch(c){t.e(c)}finally{t.f()}if(n.length===0)return{type:a};var s=[];return a.length>0&&s.push({type:a.length>1?a:a[0]}),s.push.apply(s,n),{anyOf:s}}function Ln(r){if(r.length===0)return[];var a=r.filter(Array.isArray),n={},t=ue()(a),i;try{for(t.s();!(i=t.n()).done;){var l=i.value,s=ue()(l),c;try{for(s.s();!(c=s.n()).done;){var f=c.value;n[f]?n[f]++:n[f]=1}}catch(u){s.e(u)}finally{s.f()}}}catch(u){t.e(u)}finally{t.f()}return Object.entries(n).filter(function(u){var m=T()(u,2),h=m[0],O=m[1];return O===a.length}).map(function(u){var m=T()(u,1),h=m[0];return h})}function qn(r){var a=Object.keys(r);return a.length===1&&a[0]==="type"}function Kn(r){var a=r.type;return a===k.Array||a===k.Object}function we(r,a){typeof r=="undefined"&&(r=null);var n=JSON.parse(JSON.stringify(r));return Ae(n,a)}function zn(r,a){return de(r,a)}function fa(r,a,n){var t=we(a,n);return de([r,t],n)}function va(r,a){var n=r.map(function(t){return we(t,a)});return zn(n,a)}function Je(r,a,n){if(r===void 0&&a===void 0)return!0;if(r===void 0||a===void 0)return!1;var t=unwrapSchema(r),i=unwrapSchema(a);if(t.length!==i.length)return!1;if(t.length===0)return!0;for(var l=function(O,P){return O.type.toLocaleString().localeCompare(P.type.toLocaleString())},s=_toConsumableArray(t).sort(l),c=_toConsumableArray(i).sort(l),f=0;f<t.length;f++){var u=s[f],m=c[f];if(u.type!==m.type||!(n!=null&&n.ignoreRequired)&&!Be(u.required,m.required)||!Hn(u.properties,m.properties,n)||!Je(u.items,m.items,n))return!1}return!0}function Be(r,a){if(r===void 0&&a===void 0)return!0;if(r===void 0||a===void 0)return!1;var n=new Set(r),t=new Set(a),i=new Set([].concat(_toConsumableArray(r),_toConsumableArray(a)));return i.size===n.size&&i.size===t.size}function Hn(r,a,n){if(r===void 0&&a===void 0)return!0;if(r===void 0||a===void 0)return!1;var t=Object.keys(r),i=Object.keys(a);if(!Be(t,i))return!1;for(var l=0,s=t;l<s.length;l++){var c=s[l];if(!Je(r[c],a[c],n))return!1}return!0}var Q=(0,S.createContext)({changeCustomValue:function(){},mock:!1}),Un=(0,le.Pi)(function(r){var a=(0,S.useContext)(ee),n=(0,S.useState)({visible:!1,show:!0,editVisible:!1,description:"",descriptionKey:null,advVisible:!1,itemKey:[],curItemCustomValue:null,checked:!1,editorModalName:"",mock:""}),t=T()(n,2),i=t[0],l=t[1],s=(0,S.useState)(),c=T()(s,2),f=c[0],u=c[1],m=(0,S.useState)(),h=T()(m,2),O=h[0],P=h[1],b=(0,S.useState)(null),v=T()(b,2),j=v[0],Z=v[1],R=function(){l(function(d){return A()(A()({},d),{},{visible:!0})})},z=function(){if(j!=="schema"){if(!O)return;var d=null;try{d=JSON.parse(O)}catch(te){Y.ZP.error("json \u6570\u636E\u683C\u5F0F\u6709\u8BEF").then();return}var V=A()({},we(d));a.changeSchema(V)}else{if(!f)return;var B=null;try{B=JSON.parse(f)}catch(te){Y.ZP.error("json \u6570\u636E\u683C\u5F0F\u6709\u8BEF").then();return}a.changeSchema(B)}l(function(te){return A()(A()({},te),{},{visible:!1})})},p=function(){l(function(d){return A()(A()({},d),{},{visible:!1})})},D=function(d){if(d){var V=JSON.parse(d);V=Ee(V),a.changeSchema(V)}},L=function(d,V){a.changeType({keys:[d],value:V})},E=function(d){P(d||void 0)},y=function(d){u(d||void 0)},q=function(d){a.addChildField({keys:[d]}),l(function(V){return A()(A()({},V),{},{show:!0})})},W=function(){l(function(d){return A()(A()({},d),{},{show:!d.show})})},F=function(d,V){var B=V;d[0]==="mock"&&V&&(B={mock:V}),a.changeValue({keys:d,value:B})},C=function(d){l(function(B){return A()(A()({},B),{},{editVisible:!1})});var V=i[d];d==="mock"&&(V=V?{mock:V}:""),a.changeValue({keys:i.descriptionKey,value:V})},J=function(){l(function(d){return A()(A()({},d),{},{editVisible:!1})})},ne=function(d,V,B,te){if(!(te==="object"||te==="array")){var ua=H()(d).concat(V),ze=B;typeof B!="string"&&(ze=V==="mock"?B?B.mock:"":B),l(function(da){var he;return A()(A()({},da),{},(he={editVisible:!0},I()(he,V,ze),I()(he,"descriptionKey",ua),I()(he,"editorModalName",V),he))})}},na=function(d,V){l(function(B){return A()(A()({},B),{},I()({},V,d))})},aa=function(){i.itemKey.length===0?a.changeSchema(i.curItemCustomValue):a.changeValue({keys:i.itemKey,value:i.curItemCustomValue}),l(function(d){return A()(A()({},d),{},{advVisible:!1})})},ta=function(){l(function(d){return A()(A()({},d),{},{advVisible:!1})})},qe=function(d,V){l(function(B){return A()(A()({},B),{},{advVisible:!0,itemKey:d,curItemCustomValue:V})})},ra=function(d){l(function(V){return A()(A()({},V),{},{curItemCustomValue:d})})},ia=function(d){l(function(V){return A()(A()({},V),{},{checked:d})}),a.requireAll({required:d})},la=i.visible,sa=i.editVisible,Ke=i.advVisible,oa=i.checked,ae=i.editorModalName;function ca(){ne([],"mock",a.schema.mock,a.schema.type)}return(0,e.jsx)(Q.Provider,{value:{changeCustomValue:ra,mock:r.mock},children:(0,e.jsxs)("div",{className:"json-schema-react-editor",children:[(0,e.jsx)(je.ZP,{type:"primary",onClick:R,children:"import_json"}),(0,e.jsx)(ye.Z,{width:750,maskClosable:!1,open:la,title:"import_json",onOk:z,onCancel:p,className:"json-schema-react-editor-import-modal",okText:"ok",cancelText:"cancel",footer:[(0,e.jsx)(je.ZP,{onClick:p,children:"cancel"},"back"),(0,e.jsx)(je.ZP,{type:"primary",onClick:z,children:"ok"},"submit")],children:(0,e.jsxs)(Ce.Z,{defaultValue:"json",onChange:function(d){Z(d)},children:[(0,e.jsx)(Ce.Z.TabPane,{tab:"JSON",children:(0,e.jsx)(ve,{height:300,language:"json",onChange:E})},"json"),(0,e.jsx)(Ce.Z.TabPane,{tab:"JSON-SCHEMA",children:(0,e.jsx)(ve,{height:300,language:"json",onChange:y})},"schema")]})}),(0,e.jsx)(ye.Z,{title:(0,e.jsxs)("div",{children:[ae,"\xA0",ae==="mock"&&(0,e.jsx)(K.Z,{title:"mockLink",children:(0,e.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/YMFE/json-schema-editor-visual/issues/38",children:(0,e.jsx)(re.Z,{})})})]}),width:750,maskClosable:!1,open:sa,onOk:function(){return C(ae)},onCancel:J,okText:"ok",cancelText:"cancel",children:(0,e.jsx)(M.Z.TextArea,{value:i[ae],placeholder:ae,onChange:function(d){return na(d.target.value,ae)},autoSize:{minRows:6,maxRows:10}})}),Ke&&(0,e.jsx)(ye.Z,{title:"adv_setting",width:750,maskClosable:!1,open:Ke,onOk:aa,onCancel:ta,okText:"ok",cancelText:"cancel",className:"json-schema-react-editor-adv-modal",children:(0,e.jsx)(In,{data:JSON.stringify(i.curItemCustomValue,null,2)})}),(0,e.jsxs)(N.Z,{style:{marginTop:10},children:[r.jsonEditor&&(0,e.jsx)(o.Z,{span:8,children:(0,e.jsx)(ve,{height:500,value:JSON.stringify(a.schema,null,2),language:"json",onChange:D})}),(0,e.jsxs)(o.Z,{span:r.jsonEditor?16:24,className:"wrapper",children:[(0,e.jsxs)(N.Z,{align:"middle",gutter:11,children:[(0,e.jsx)(o.Z,{flex:"auto",children:(0,e.jsxs)(N.Z,{align:"middle",gutter:11,children:[(0,e.jsx)(o.Z,{span:8,children:(0,e.jsxs)(N.Z,{justify:"space-around",align:"middle",className:"field-name",children:[(0,e.jsx)(o.Z,{flex:"20px",children:a.schema.type==="object"?(0,e.jsx)("span",{className:"show-hide-children",onClick:W,children:i.show?(0,e.jsx)(ge.Z,{}):(0,e.jsx)(pe.Z,{})}):null}),(0,e.jsx)(o.Z,{flex:"auto",children:(0,e.jsx)(M.Z,{disabled:!0,value:"root",addonAfter:(0,e.jsx)(K.Z,{placement:"top",title:"checked_all",children:(0,e.jsx)(ie.Z,{style:{paddingRight:0},checked:oa,disabled:!(a.schema.type==="object"||a.schema.type==="array"),onChange:function(d){return ia(d.target.checked)}})})})})]})}),(0,e.jsx)(o.Z,{span:r.mock?3:4,children:(0,e.jsx)(U.Z,{style:{width:"100%"},onChange:function(d){return L("type",d)},value:a.schema.type||"object",children:ke.map(function(w,d){return(0,e.jsx)(U.Z.Option,{value:w,children:w},d)})})}),r.mock&&(0,e.jsx)(o.Z,{span:3,children:(0,e.jsx)(Ze,{schema:a.schema,showEdit:ca,onChange:function(d){return F(["mock"],d)}})}),(0,e.jsx)(o.Z,{span:r.mock?5:6,children:(0,e.jsx)(M.Z,{placeholder:"title",value:a.schema.title,onChange:function(d){return F(["title"],d.target.value)},addonAfter:(0,e.jsx)(G.Z,{className:"input-icon-editor",onClick:function(){return ne([],"title",a.schema.title)}})})}),(0,e.jsx)(o.Z,{span:r.mock?5:6,children:(0,e.jsx)(M.Z,{addonAfter:(0,e.jsx)(G.Z,{onClick:function(){return ne([],"description",a.schema.description)}}),placeholder:"description",value:a.schema.description,onChange:function(d){return F(["description"],d.target.value)}})})]})}),(0,e.jsx)(o.Z,{flex:"66px",children:(0,e.jsxs)(N.Z,{gutter:8,children:[(0,e.jsx)(o.Z,{span:8,children:(0,e.jsx)("span",{className:"adv-set",onClick:function(){return qe([],a.schema)},children:(0,e.jsx)(K.Z,{placement:"top",title:"adv_setting",children:(0,e.jsx)(xe.Z,{})})})}),(0,e.jsx)(o.Z,{span:8,children:a.schema.type==="object"?(0,e.jsx)("span",{className:"plus",onClick:function(){return q("properties")},children:(0,e.jsx)(K.Z,{placement:"top",title:"add_child_node",children:(0,e.jsx)(me.Z,{})})}):null})]})})]}),i.show&&(0,e.jsx)(kn,{showEdit:ne,showAdv:qe})]})]})]})})}),Wn=Un,Qn=g(56690),Yn=g.n(Qn),Gn=g(89728),Xn=g.n(Gn),Le=function(){function r(a){Yn()(this,r),I()(this,"schema",void 0),I()(this,"open",void 0),I()(this,"fieldNum",void 0),a?(a.type==="object"&&!a.properties&&(a.properties={}),this.schema=a):this.schema={type:"object",properties:{},required:[]},this.open={properties:!0},this.fieldNum=0,(0,Ve.ky)(this)}return Xn()(r,[{key:"changeSchema",value:function(n){this.schema=Ee(n)}},{key:"addChildField",value:function(n){for(var t=n.keys,i=x().clone(this.schema),l=x().get(i,t),s="field_".concat(this.fieldNum++);typeof l[s]!="undefined";)s="field_".concat(this.fieldNum++);l!==void 0&&(i=x().update(i,t,function(c){return x().assign(c,I()({},s,fe("string")))})),this.schema=De(i,t,s)}},{key:"deleteField",value:function(n){var t=n.keys,i=x().clone(this.schema);x().unset(i,t),this.schema=i}},{key:"addField",value:function(n){for(var t=n.keys,i=n.name,l=x().clone(this.schema),s=x().get(this.schema,t),c="field_".concat(this.fieldNum++);typeof s[c]!="undefined";)c="field_".concat(this.fieldNum++);var f={};if(i)for(var u in s)f[u]=s[u],u===i&&(f[c]=fe("string"));else f=x().assign(s,I()({},c,fe("string")));var m=x().update(l,t,function(h){return x().assign(h,f)});this.schema=De(m,t,c)}},{key:"changeType",value:function(n){var t=n.keys,i=n.value,l=oe(t),s=l.length?x().get(this.schema,l):this.schema;if(s.type!==i){var c=x().clone(this.schema),f=s.description?{description:s.description}:{},u=A()(A()({},fe(i)),f);l.length===0?this.schema=A()({},u):this.schema=x().set(c,l,u)}}},{key:"enableRequire",value:function(n){var t=n.keys,i=n.name,l=n.required,s=oe(t),c=s.length?x().get(this.schema,s):this.schema,f=[].concat(c.required||[]),u=f.indexOf(i),m=u>=0;!l&&m?f.splice(u,1):l&&!m&&f.push(i),s.push("required");var h=x().clone(this.schema);this.schema=x().set(h,s,f)}},{key:"changeName",value:function(n){var t=n.keys,i=n.name,l=n.value,s=x().clone(this.schema),c=oe(t),f=c.length===0?s:x().get(s,c),u=[].concat(f.required||[]),m=x().get(s,t),h={},O=m[i],P=H()(t).concat(l,"properties").join(X),b=H()(t).concat(i,"properties").join(X);if(O.properties&&(delete this.open[b],this.open[P]=!0),!(m[l]&&se()(m[l])==="object")){u=u.map(function(j){return j===i?l:j}),c.push("required"),s=x().set(s,c,u);for(var v in m)v===i?h[l]=m[v]:h[v]=m[v];this.schema=x().set(s,t,h)}}},{key:"changeValue",value:function(n){var t=n.keys,i=n.value,l=x().clone(this.schema);i?(x().set(l,t,i),this.schema=l):this.deleteField({keys:t})}},{key:"requireAll",value:function(n){var t=n.required,i=x().clone(this.schema);this.schema=Ie(i,t)}},{key:"setOpenValue",value:function(n){var t=n.key,i=n.value,l=x().clone(this.open),s=t.join(X),c=i===void 0?!x().get(this.open,[s]):i;this.open=x().set(l,[s],c)}}]),r}(),ee=(0,S.createContext)(new Le),$n=(0,We.Pi)(function(r){var a=(0,S.useState)(new Le),n=T()(a,1),t=n[0];return(0,S.useEffect)(function(){var i;if(r.data)if(typeof r.data=="string")try{i=JSON.parse(r.data)}catch(l){Y.ZP.error("\u4F20\u5165\u7684\u5B57\u7B26\u4E32\u975E json \u683C\u5F0F!")}else Object.prototype.toString.call(r.data)==="[object Object]"?Object.keys(r.data).length?i=r.data:i={type:"object"}:Y.ZP.error("json\u6570\u636E\u53EA\u652F\u6301\u5B57\u7B26\u4E32\u548C\u5BF9\u8C61");else i={type:"object"};t.changeSchema(i)},[JSON.stringify(r.data)]),(0,Ve.U5)(function(){return t.schema},function(i){r.onChange&&r.onChange(JSON.parse(JSON.stringify(i)))}),(0,e.jsx)("div",{children:(0,e.jsx)(ee.Provider,{value:t,children:(0,e.jsx)(Wn,{jsonEditor:r.jsonEditor,mock:r.mock})})})}),_n=function(a){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)($n,A()({},a))})},ea=_n}}]);
